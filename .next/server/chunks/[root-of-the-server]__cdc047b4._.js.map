{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///home/tdev/Documents/portfolio/app/api/contact/route.ts"],"sourcesContent":["export const runtime = 'nodejs';\n\nimport { NextResponse } from 'next/server';\nimport nodemailer from 'nodemailer';\n\nexport async function POST(req: Request) {\n  try {\n    const { name, email, subject, message } = await req.json();\n\n    if (!name || !email || !subject || !message) {\n      return NextResponse.json(\n        { error: 'Tous les champs sont requis.' },\n        { status: 400 }\n      );\n    }\n\n    const transporter = nodemailer.createTransport({\n      service: 'gmail',\n      auth: {\n        user: process.env.EMAIL_USER,\n        pass: process.env.EMAIL_PASS,\n      },\n    });\n\n    const mailOptions = {\n      from: `\"${name}\" <${process.env.EMAIL_USER}>`,\n      to: 'bernardalade92@gmail.com',\n      subject: `Nouveau message de ${name} - ${subject}`,\n      html: `\n        <div style=\"font-family: Arial, sans-serif;\">\n          <h2>Nouveau message de contact</h2>\n          <p><strong>Nom :</strong> ${name}</p>\n          <p><strong>Email :</strong> ${email}</p>\n          <p><strong>Sujet :</strong> ${subject}</p>\n          <p><strong>Message :</strong></p>\n          <p>${message.replace(/\\n/g, '<br>')}</p>\n        </div>\n      `,\n    };\n\n    await transporter.sendMail(mailOptions);\n\n    return NextResponse.json({ message: 'Email envoyé avec succès' });\n  } catch (error) {\n    console.error(\"Erreur d'envoi d'email :\", error);\n    return NextResponse.json(\n      { error: \"Erreur lors de l'envoi de l'email. Veuillez réessayer.\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHO,MAAM,UAAU;;;AAKhB,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAExD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS;YAC3C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA+B,GACxC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,cAAc,iJAAA,CAAA,UAAU,CAAC,eAAe,CAAC;YAC7C,SAAS;YACT,MAAM;gBACJ,IAAI;gBACJ,IAAI;YACN;QACF;QAEA,MAAM,cAAc;YAClB,MAAM,CAAC,CAAC,EAAE,KAAK,GAAG,+DAAyB,CAAC,CAAC;YAC7C,IAAI;YACJ,SAAS,CAAC,mBAAmB,EAAE,KAAK,GAAG,EAAE,SAAS;YAClD,MAAM,CAAC;;;oCAGuB,EAAE,KAAK;sCACL,EAAE,MAAM;sCACR,EAAE,QAAQ;;aAEnC,EAAE,QAAQ,OAAO,CAAC,OAAO,QAAQ;;MAExC,CAAC;QACH;QAEA,MAAM,YAAY,QAAQ,CAAC;QAE3B,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA2B;IACjE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAyD,GAClE;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}